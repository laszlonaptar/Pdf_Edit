<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <title>PDF-Edit – Leistungsnachweis</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="preload" as="script" href="/static/i18n.js?v=20">
  <link rel="preload" as="script" href="/static/script.js?v=20">
  <link rel="stylesheet" href="/static/style.css?v=20">
</head>
<body>
<header class="topbar">
  <div class="brand">PDF-Edit</div>
  <div class="spacer"></div>
  <div class="lang-switch">
    <select id="lang-select" aria-label="Language">
      <option value="de">Deutsch</option>
      <option value="hr">Hrvatski</option>
    </select>
  </div>
  <nav><a href="/logout" data-i18n="logout">Abmelden</a></nav>
</header>

<main class="container">
  <h1 data-i18n="title">Leistungsnachweis</h1>

  <form id="main-form" action="/generate_excel" method="post" class="card">

    <!-- Pauza: 60 alap, checkbox-szal 30 -->
    <input type="hidden" id="break_minutes" name="break_minutes" value="60">

    <section class="grid">
      <div class="field">
        <label for="datum" data-i18n="date">Datum</label>
        <input type="date" id="datum" name="datum" required>
      </div>

      <div class="field">
        <label for="bau" data-i18n="site">Bau / Ausführungsort</label>
        <input type="text" id="bau" name="bau" required autocomplete="off">
      </div>

      <div class="field">
        <label for="basf_beauftragter" data-i18n="bf">Bauleiter/Fachbauleiter</label>
        <input type="text" id="basf_beauftragter" name="basf_beauftragter" autocomplete="off">
      </div>

      <div class="field align-end">
        <label class="checkbox">
          <input type="checkbox" id="half_break">
          <span data-i18n="half_break">Halbstündige Pause (30 Min)</span>
        </label>
      </div>
    </section>

    <section>
      <label for="beschreibung" data-i18n="desc">Beschreibung / Was wurde gemacht?</label>
      <textarea id="beschreibung" name="beschreibung" rows="6" class="textarea"></textarea>

      <div class="actions">
        <!-- HR nyelven látszik -->
        <button type="button" id="btn-translate-hr-de" class="btn ghost" style="display:none" data-i18n="translate_to_de">Auf Deutsch übersetzen</button>
      </div>
      <div id="translate-status" class="status"></div>
      <!-- Ha külön kimenet kellene, ezt vedd ki a kommentből:
      <textarea id="beschreibung_de" rows="6" class="textarea" placeholder="Übersetzung (DE)"></textarea>
      -->
    </section>

    <section>
      <h2 data-i18n="workers">Mitarbeiter</h2>

      <!-- Datalist fallback -->
      <datalist id="dl-lastnames"></datalist>
      <datalist id="dl-firstnames"></datalist>
      <datalist id="dl-ids"></datalist>

      <div class="table">
        <div class="trow thead">
          <div data-i18n="th_last">Name</div>
          <div data-i18n="th_first">Vorname</div>
          <div data-i18n="th_id">Ausweis</div>
          <div data-i18n="th_start">Beginn</div>
          <div data-i18n="th_end">Ende</div>
          <div data-i18n="th_vh">Vorhaltung</div>
        </div>

        <!-- 5 sor – egységes szélességű mezők -->
        <!-- Minden név/ID mezőhöz saját, csak gépelésre megjelenő találati panel -->
        <!-- Row 1..5 -->
        <div class="trow worker-row" data-row="1">
          <div class="ac-wrap">
            <input name="nachname1" id="nachname1" autocomplete="off">
            <div class="ac-list" id="ac-1"></div>
          </div>
          <div class="ac-wrap">
            <input name="vorname1" id="vorname1" autocomplete="off">
          </div>
          <div class="ac-wrap">
            <input name="ausweis1" id="ausweis1" autocomplete="off">
          </div>
          <input name="beginn1" id="beginn1" type="time" step="900">
          <input name="ende1"   id="ende1"   type="time" step="900">
          <input name="vorhaltung1" id="vorhaltung1" autocomplete="off">
        </div>

        <div class="trow worker-row" data-row="2">
          <div class="ac-wrap">
            <input name="nachname2" id="nachname2" autocomplete="off">
            <div class="ac-list" id="ac-2"></div>
          </div>
          <div class="ac-wrap">
            <input name="vorname2" id="vorname2" autocomplete="off">
          </div>
          <div class="ac-wrap">
            <input name="ausweis2" id="ausweis2" autocomplete="off">
          </div>
          <input name="beginn2" id="beginn2" type="time" step="900">
          <input name="ende2"   id="ende2"   type="time" step="900">
          <input name="vorhaltung2" id="vorhaltung2" autocomplete="off">
        </div>

        <div class="trow worker-row" data-row="3">
          <div class="ac-wrap">
            <input name="nachname3" id="nachname3" autocomplete="off">
            <div class="ac-list" id="ac-3"></div>
          </div>
          <div class="ac-wrap">
            <input name="vorname3" id="vorname3" autocomplete="off">
          </div>
          <div class="ac-wrap">
            <input name="ausweis3" id="ausweis3" autocomplete="off">
          </div>
          <input name="beginn3" id="beginn3" type="time" step="900">
          <input name="ende3"   id="ende3"   type="time" step="900">
          <input name="vorhaltung3" id="vorhaltung3" autocomplete="off">
        </div>

        <div class="trow worker-row" data-row="4">
          <div class="ac-wrap">
            <input name="nachname4" id="nachname4" autocomplete="off">
            <div class="ac-list" id="ac-4"></div>
          </div>
          <div class="ac-wrap">
            <input name="vorname4" id="vorname4" autocomplete="off">
          </div>
          <div class="ac-wrap">
            <input name="ausweis4" id="ausweis4" autocomplete="off">
          </div>
          <input name="beginn4" id="beginn4" type="time" step="900">
          <input name="ende4"   id="ende4"   type="time" step="900">
          <input name="vorhaltung4" id="vorhaltung4" autocomplete="off">
        </div>

        <div class="trow worker-row" data-row="5">
          <div class="ac-wrap">
            <input name="nachname5" id="nachname5" autocomplete="off">
            <div class="ac-list" id="ac-5"></div>
          </div>
          <div class="ac-wrap">
            <input name="vorname5" id="vorname5" autocomplete="off">
          </div>
          <div class="ac-wrap">
            <input name="ausweis5" id="ausweis5" autocomplete="off">
          </div>
          <input name="beginn5" id="beginn5" type="time" step="900">
          <input name="ende5"   id="ende5"   type="time" step="900">
          <input name="vorhaltung5" id="vorhaltung5" autocomplete="off">
        </div>

      </div>
    </section>

    <div class="form-actions">
      <button type="submit" class="btn primary" data-i18n="btn_excel">Excel generieren</button>
      <button type="button" id="btn-pdf" class="btn" data-i18n="btn_pdf">PDF Vorschau</button>
    </div>
  </form>
</main>

<script src="/static/i18n.js?v=20"></script>
<script src="/static/script.js?v=20"></script>
</body>
</html>
